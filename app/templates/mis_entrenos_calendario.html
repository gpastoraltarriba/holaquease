<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
{% extends "base.html" %}
{% block content %}
<section class="container">
  <h1 class="title">Rutina #{{ rutina.id }}</h1>
  <h2 class="subtitle">Calendario</h2>

  {% for semana in calendario %}
    <div class="calendar">
      <!-- Cabecera de días -->
      <div class="cal-head">
        {% for dname in ["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"] %}
          <div class="cal-cell cal-head-cell">{{ dname }}</div>
        {% endfor %}
      </div>

      <!-- Fila de la semana -->
      <div class="cal-row">
        {% for d in semana.dias %}
          {% if d.descanso %}
            <div class="cal-cell cal-rest">
              <div class="cal-title">{{ d.dia }}</div>
              <div class="cal-note">Descanso</div>
            </div>
          {% else %}
            <a class="cal-cell cal-gym" href="/mis-entrenos/{{ rutina.id }}/dia/{{ d.dia }}">
              <div class="cal-title">{{ d.dia }}</div>
              <div class="cal-type">{{ d.tipo|default("Entrenamiento") }}</div>
              <div class="cal-meta">{{ d.ejercicios|length }} ejercicios</div>
            </a>
          {% endif %}
        {% endfor %}
      </div>
      <div class="cal-week-tag">Semana {{ semana.semana }}</div>
    </div>
  {% endfor %}

  <div class="actions">
    <a class="btn" href="/mis-entrenos">← Volver</a>
  </div>
</section>

<style>
/* calendario tipo mes */
.calendar{border:1px solid #e6e6e6;border-radius:14px;background:#fff;margin:1rem 0;position:relative;overflow:hidden}
.cal-head, .cal-row{display:grid;grid-template-columns:repeat(7,1fr)}
.cal-head-cell{background:#f3f5fb;font-weight:700;border-right:1px solid #e8e8ee;padding:.6rem .5rem}
.cal-head-cell:last-child{border-right:none}
.cal-cell{min-height:110px;border-right:1px solid #eee;border-top:1px solid #eee;padding:.5rem .6rem;text-decoration:none;color:inherit;display:flex;flex-direction:column;gap:.25rem}
.cal-row .cal-cell:nth-child(7){border-right:none}
.cal-title{font-weight:700}
.cal-type{font-size:.9rem;color:#455}
.cal-meta,.cal-note{font-size:.85rem;color:#889}
.cal-gym:hover{background:#f9fbff;box-shadow:inset 0 0 0 2px #2a51ff11}
.cal-rest{background:#fafafa;color:#999}
.cal-week-tag{position:absolute;top:.45rem;right:.6rem;font-size:.85rem;color:#666}
@media (max-width: 920px){
  .cal-cell{min-height:90px}
  .cal-type,.cal-meta{font-size:.82rem}
}
</style>
{% endblock %}


</body>
</html>